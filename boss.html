<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Начальник</title>
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/themes.css" />
</head>
<body>

  <header class="topbar">
    <div class="brand">
      <div class="badge"></div>
      <div>
        <div class="h1">TASK QUEST</div>
        <div class="sub" id="meLine"></div>
      </div>
    </div>
    <div class="row">
      <div class="themeBar">
      <span class="themePill" id="themeLabel">Режим: ...</span>
      <select class="themeSelect" id="themeSelect">
        <option value="minimal">minimal</option>
        <option value="game">game</option>
        <option value="hitech">hitech</option>
      </select>
      <button class="themeBtn" onclick="Theme.toggle()">Сменить</button>
    </div>
<a class="btn btnGhost" href="admin.html">Админка</a>
      <button class="btn" onclick="Auth.logout()">Выйти</button>
    </div>
  </header>

  <main class="container grid2">
    <section class="card">
      <div class="cardHeader">
        <div>
          <div class="cardTitle">Назначение задач</div>
          <div class="cardHint">Выбери задачу и сотрудника</div>
        </div>
      </div>

      <div class="cardBody">
        <div class="row">
          <select id="selTask"></select>
          <select id="selEmployee"></select>
        </div>
        <button class="btn btnPrimary" onclick="Boss.assign()">Назначить</button>

        <hr class="sep" />

        <div class="small">Назначения</div>
        <div id="assignmentsList" class="list"></div>
      </div>
    </section>

    <section class="card">
      <div class="cardHeader">
        <div>
          <div class="cardTitle">Отчёт по выполнению</div>
          <div class="cardHint">Кликни назначение слева</div>
        </div>
      </div>

      <div class="cardBody">
        <div id="reportBox" class="report">
          <div class="small">Пока ничего не выбрано.</div>
        </div>
      </div>
    </section>
  </main>

  <script src="js/store.js"></script>
  <script src="js/seed.js"></script>
  <script src="js/guard.js"></script>
  <script src="js/auth.js"></script>
  <script src="js/theme.js"></script>
  <script src="js/boss.js"></script>
  <script>
    Theme.init();
    Guard.requireRole(["boss","admin"]);
    Boss.init();
  </script>
</body>
</html>
